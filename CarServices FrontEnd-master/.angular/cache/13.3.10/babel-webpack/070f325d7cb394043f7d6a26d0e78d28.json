{"ast":null,"code":"import _asyncToGenerator from \"C:\\\\Uni temp\\\\Car Services\\\\CarServicesFrontEnd\\\\CarServices FrontEnd-master\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, ViewChild } from \"@angular/core\";\nimport { DayPilot } from \"@daypilot/daypilot-lite-angular\";\nlet CalendarComponent = class CalendarComponent {\n  constructor(ds, interventoService) {\n    var _this = this;\n    this.ds = ds;\n    this.interventoService = interventoService;\n    this.events = [];\n    this.date = DayPilot.Date.today();\n    this.configNavigator = {\n      showMonths: 3,\n      cellWidth: 25,\n      cellHeight: 25,\n      onVisibleRangeChanged: args => {\n        this.loadEvents();\n      }\n    };\n    this.configDay = {};\n    this.configWeek = {\n      viewType: \"Week\",\n      onTimeRangeSelected: function () {\n        var _ref = _asyncToGenerator(function* (args) {\n          const modal = yield DayPilot.Modal.prompt(\"Crea un appuntamento:\", \"Breve descrizione del tipo di intervento\");\n          const dp = args.control;\n          dp.clearSelection();\n          //test save date\n          _this.authService.login(username, password).subscribe(console.log(typeof modal.result));\n          console.log(typeof args.start);\n          console.log(typeof args.end);\n          console.log(typeof DayPilot.guid());\n          if (!modal.result) {\n            return;\n          }\n          dp.events.add(new DayPilot.Event({\n            start: args.start,\n            end: args.end,\n            id: DayPilot.guid(),\n            text: modal.result\n          }));\n        });\n        return function onTimeRangeSelected(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    };\n    this.configMonth = {};\n    this.viewWeek();\n    //this.configWeek.headerDateFormat=\"dddd MMMM d, yyyy\";\n    this.configWeek.eventMoveHandling = \"Disabled\";\n    //  this.configWeek.eve\n  }\n\n  selectTomorrow() {\n    this.date = DayPilot.Date.today().addDays(1);\n  }\n  changeDate(date) {\n    this.configDay.startDate = date;\n    this.configWeek.startDate = date;\n    this.configMonth.startDate = date;\n  }\n  ngAfterViewInit() {\n    this.loadEvents();\n  }\n  loadEvents() {\n    const from = this.nav.control.visibleStart();\n    const to = this.nav.control.visibleEnd();\n    this.ds.getEvents(from, to).subscribe(result => {\n      this.events = result;\n    });\n  }\n  viewDay() {\n    this.configNavigator.selectMode = \"Day\";\n    this.configDay.visible = true;\n    this.configWeek.visible = false;\n    this.configMonth.visible = false;\n  }\n  viewWeek() {\n    this.configNavigator.selectMode = \"Week\";\n    this.configDay.visible = false;\n    this.configWeek.visible = true;\n    this.configMonth.visible = false;\n  }\n  viewMonth() {\n    this.configNavigator.selectMode = \"Month\";\n    this.configDay.visible = false;\n    this.configWeek.visible = false;\n    this.configMonth.visible = true;\n  }\n};\n__decorate([ViewChild(\"day\")], CalendarComponent.prototype, \"day\", void 0);\n__decorate([ViewChild(\"week\")], CalendarComponent.prototype, \"week\", void 0);\n__decorate([ViewChild(\"month\")], CalendarComponent.prototype, \"month\", void 0);\n__decorate([ViewChild(\"navigator\")], CalendarComponent.prototype, \"nav\", void 0);\nCalendarComponent = __decorate([Component({\n  selector: 'calendar-component',\n  templateUrl: './calendar.component.html',\n  styleUrls: ['./calendar.component.css']\n})], CalendarComponent);\nexport { CalendarComponent };","map":{"version":3,"names":["__decorate","Component","ViewChild","DayPilot","CalendarComponent","constructor","ds","interventoService","events","date","Date","today","configNavigator","showMonths","cellWidth","cellHeight","onVisibleRangeChanged","args","loadEvents","configDay","configWeek","viewType","onTimeRangeSelected","modal","Modal","prompt","dp","control","clearSelection","authService","login","username","password","subscribe","console","log","result","start","end","guid","add","Event","id","text","configMonth","viewWeek","eventMoveHandling","selectTomorrow","addDays","changeDate","startDate","ngAfterViewInit","from","nav","visibleStart","to","visibleEnd","getEvents","viewDay","selectMode","visible","viewMonth","prototype","selector","templateUrl","styleUrls"],"sources":["C:/Uni temp/Car Services/CarServicesFrontEnd/CarServices FrontEnd-master/src/app/calendar/calendar.component.ts"],"sourcesContent":["import { __decorate } from \"tslib\";\r\nimport { Component, ViewChild } from \"@angular/core\";\r\nimport { DayPilot } from \"@daypilot/daypilot-lite-angular\";\r\nlet CalendarComponent = class CalendarComponent {\r\n    constructor(ds, interventoService) {\r\n        this.ds = ds;\r\n        this.interventoService = interventoService;\r\n        this.events = [];\r\n        this.date = DayPilot.Date.today();\r\n        this.configNavigator = {\r\n            showMonths: 3,\r\n            cellWidth: 25,\r\n            cellHeight: 25,\r\n            onVisibleRangeChanged: args => {\r\n                this.loadEvents();\r\n            }\r\n        };\r\n        this.configDay = {};\r\n        this.configWeek = {\r\n            viewType: \"Week\",\r\n            onTimeRangeSelected: async (args) => {\r\n                const modal = await DayPilot.Modal.prompt(\"Crea un appuntamento:\", \"Breve descrizione del tipo di intervento\");\r\n                const dp = args.control;\r\n                dp.clearSelection();\r\n                //test save date\r\n                this.authService.login(username, password).subscribe(console.log(typeof modal.result));\r\n                console.log(typeof args.start);\r\n                console.log(typeof args.end);\r\n                console.log(typeof DayPilot.guid());\r\n                if (!modal.result) {\r\n                    return;\r\n                }\r\n                dp.events.add(new DayPilot.Event({\r\n                    start: args.start,\r\n                    end: args.end,\r\n                    id: DayPilot.guid(),\r\n                    text: modal.result\r\n                }));\r\n            }\r\n        };\r\n        this.configMonth = {};\r\n        this.viewWeek();\r\n        //this.configWeek.headerDateFormat=\"dddd MMMM d, yyyy\";\r\n        this.configWeek.eventMoveHandling = \"Disabled\";\r\n        //  this.configWeek.eve\r\n    }\r\n    selectTomorrow() {\r\n        this.date = DayPilot.Date.today().addDays(1);\r\n    }\r\n    changeDate(date) {\r\n        this.configDay.startDate = date;\r\n        this.configWeek.startDate = date;\r\n        this.configMonth.startDate = date;\r\n    }\r\n    ngAfterViewInit() {\r\n        this.loadEvents();\r\n    }\r\n    loadEvents() {\r\n        const from = this.nav.control.visibleStart();\r\n        const to = this.nav.control.visibleEnd();\r\n        this.ds.getEvents(from, to).subscribe(result => {\r\n            this.events = result;\r\n        });\r\n    }\r\n    viewDay() {\r\n        this.configNavigator.selectMode = \"Day\";\r\n        this.configDay.visible = true;\r\n        this.configWeek.visible = false;\r\n        this.configMonth.visible = false;\r\n    }\r\n    viewWeek() {\r\n        this.configNavigator.selectMode = \"Week\";\r\n        this.configDay.visible = false;\r\n        this.configWeek.visible = true;\r\n        this.configMonth.visible = false;\r\n    }\r\n    viewMonth() {\r\n        this.configNavigator.selectMode = \"Month\";\r\n        this.configDay.visible = false;\r\n        this.configWeek.visible = false;\r\n        this.configMonth.visible = true;\r\n    }\r\n};\r\n__decorate([\r\n    ViewChild(\"day\")\r\n], CalendarComponent.prototype, \"day\", void 0);\r\n__decorate([\r\n    ViewChild(\"week\")\r\n], CalendarComponent.prototype, \"week\", void 0);\r\n__decorate([\r\n    ViewChild(\"month\")\r\n], CalendarComponent.prototype, \"month\", void 0);\r\n__decorate([\r\n    ViewChild(\"navigator\")\r\n], CalendarComponent.prototype, \"nav\", void 0);\r\nCalendarComponent = __decorate([\r\n    Component({\r\n        selector: 'calendar-component',\r\n        templateUrl: './calendar.component.html',\r\n        styleUrls: ['./calendar.component.css']\r\n    })\r\n], CalendarComponent);\r\nexport { CalendarComponent };\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}